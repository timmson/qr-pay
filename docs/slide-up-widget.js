/*! For license information please see slide-up-widget.js.LICENSE.txt */
(()=>{var e={891:function(e,t){var n,r;n=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}function o(e){return u.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))}function i(e){var t=e||window.event;return!!o(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)}function a(){setTimeout((function(){void 0!==f&&(document.body.style.paddingRight=f,f=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)}))}var c="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),u=[],l=!1,s=-1,d=void 0,f=void 0;e.disableBodyScroll=function(e,r){if(c){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!u.some((function(t){return t.targetElement===e}))){var a={targetElement:e,options:r||{}};u=[].concat(t(u),[a]),e.ontouchstart=function(e){1===e.targetTouches.length&&(s=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,a,c;1===t.targetTouches.length&&(r=e,c=(n=t).targetTouches[0].clientY-s,o(n.target)||(r&&0===r.scrollTop&&0<c||(a=r)&&a.scrollHeight-a.scrollTop<=a.clientHeight&&c<0?i(n):n.stopPropagation()))},l||(document.addEventListener("touchmove",i,n?{passive:!1}:void 0),l=!0)}}else{h=r,setTimeout((function(){if(void 0===f){var e=!!h&&!0===h.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(f=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")}));var p={targetElement:e,options:r||{}};u=[].concat(t(u),[p])}var h},e.clearAllBodyScrollLocks=function(){c?(u.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),l&&(document.removeEventListener("touchmove",i,n?{passive:!1}:void 0),l=!1),u=[],s=-1):(a(),u=[])},e.enableBodyScroll=function(e){if(c){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,u=u.filter((function(t){return t.targetElement!==e})),l&&0===u.length&&(document.removeEventListener("touchmove",i,n?{passive:!1}:void 0),l=!1)}else(u=u.filter((function(t){return t.targetElement!==e}))).length||a()}},void 0===(r=n.apply(t,[t]))||(e.exports=r)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(){"use strict";o=function(){return t};var t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),c=new N(r||[]);return i(a,"_invoke",{value:x(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p={};function h(){}function v(){}function m(){}var g={};s(g,c,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(O([])));w&&w!==n&&r.call(w,c)&&(g=w);var b=m.prototype=h.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(t,n){function o(i,a,c,u){var l=f(t[i],t,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==e(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){o("next",e,c,u)}),(function(e){o("throw",e,c,u)})):n.resolve(d).then((function(e){s.value=e,c(s)}),(function(e){return o("throw",e,c,u)}))}u(l.arg)}var a;i(this,"_invoke",{value:function(e,t){function r(){return new n((function(n,r){o(e,t,n,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=L(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function L(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,i(b,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),s(b,l,"Generator"),s(b,c,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function i(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)}))}}a(o().mark((function e(){var r,i,c,u,l,s,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="slideUpWidget.v1",i=function(e){localStorage.setItem(r,JSON.stringify(e))},c=function(e){return-1===e.indexOf("sub.nspk.ru")?"qr":"sub"},u=function(){var e=a(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=c(t),r="https://".concat(n,".nspk.ru/proxyapp/c2bmembers.json"),e.next=5,fetch(r);case 5:return i=e.sent,e.abrupt("return",i.json());case 9:throw e.prev=9,e.t0=e.catch(0),new Error("banksCacheIsEmpty");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),l=n(891),s=l.disableBodyScroll,d=l.enableBodyScroll,window.slideUpWidget={getBankList:function(){var e=a(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!/https:\/\/(qr|sub).nspk.ru\/\w{0,32}(\?)?/.test(t)){e.next=11;break}return e.next=5,u(t);case 5:return n=e.sent,r=n.dictionary,i=r.map((function(e){var n=e.schema,r=t.replace("https://","".concat(n,"://"));return{bankName:e.bankName,logoURL:e.logoURL,dboLink:r}})),e.abrupt("return",i);case 11:throw new Error("invalidURLString");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),showBankSelector:function(){var e=a(o().mark((function e(n){var a,u,l,d,f,p,h,v,m,g,y,w,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.slideUpWidget.closeWidget(),a=document.head,(u=document.createElement("meta")).setAttribute("id","widget-nspk"),u.setAttribute("name","viewport"),u.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"),a.appendChild(u),e.next=9,slideUpWidget.getBankList(n);case 9:l=e.sent,(d=document.createElement("div")).className="slide-up-widget",f=document.createElement("div"),p=document.createElement("img"),h=document.createElement("div"),v=document.createElement("div"),h.innerText="sub"===c(n)?"Для привязки счета выберите банк, с которого вы хотите совершать оплату":"Подтвердите оплату в Вашем банковском приложении",v.innerText="×",p.src="https://sbp.nspk.ru/i/logo-black.svg",f.className="slide-up-widget__header",p.className="slide-up-widget__header-image",h.className="slide-up-widget__header-text",v.className="slide-up-widget__header-close-btn",v.addEventListener("click",(function(){window.slideUpWidget.closeWidget()})),f.appendChild(p),f.appendChild(v),f.appendChild(h),d.appendChild(f),(m=document.createElement("input")).setAttribute("placeholder","Введите название банка"),m.className="slide-up-widget__input",m.addEventListener("input",(function(e){var t=e.target.value;if(t&&t.length>1){document.querySelectorAll(".slide-up-widget__bank-title").forEach((function(e){var n=e.closest(".slide-up-widget__bank"),r=n.className;-1===e.innerText.toLowerCase().indexOf(t.toLowerCase())||-1!==n.className.indexOf("used")?-1===r.indexOf("hide")&&(n.className=r+" slide-up-widget__bank--hide"):n.classList.remove("slide-up-widget__bank--hide")}));var n=document.querySelector(".slide-up-widget__title--used");n&&-1===n.className.indexOf("hide")&&(n.className=n.className+" slide-up-widget__title--hide")}else{document.querySelectorAll(".slide-up-widget__bank--hide").forEach((function(e){e.classList.remove("slide-up-widget__bank--hide")}));var r=document.querySelector(".slide-up-widget__title--used");r&&r.classList.remove("slide-up-widget__title--hide")}if(document.querySelectorAll(".slide-up-widget__bank--hide:not(.slide-up-widget__bank--used)").length>=l.length){if(!document.querySelector(".slide-up-widget__empty")){var o=document.createElement("div");o.innerText="По Вашему запросу результатов не найдено",o.className="slide-up-widget__empty",d.appendChild(o)}}else document.querySelector(".slide-up-widget__empty")&&document.querySelector(".slide-up-widget__empty").remove()})),d.appendChild(m),g=localStorage.getItem(r),y=l,g&&(w=JSON.parse(g),b=[],w.forEach((function(e){var t=y.find((function(t){return t.bankName===e}));t&&b.push(t)})),console.log(b),y=[].concat(b,t(l.filter((function(e){return w.every((function(t){return e.bankName!==t}))}))))),y.forEach((function(e){var t=document.createElement("a"),n=document.createElement("img"),r=document.createElement("div"),o=e.dboLink;t.className="slide-up-widget__bank",n.className="slide-up-widget__bank-logo",r.className="slide-up-widget__bank-title",t.setAttribute("href",o),n.src=e.logoURL,r.innerText=e.bankName,t.appendChild(n),t.appendChild(r),d.appendChild(t)})),d.addEventListener("click",(function(e){var n=e.target.closest(".slide-up-widget__bank");if(n){var o=n.querySelector(".slide-up-widget__bank-title").innerText,a=JSON.parse(localStorage.getItem(r));if(!a||a.some((function(e){return e===o})))if((null==a?void 0:a.length)>0){var c=a.splice(a.indexOf(o),1);i([].concat(t(c),t(a)))}else i([o]);else(null==a?void 0:a.length)>2&&a.pop(),i([o].concat(t(a)))}})),document.body.appendChild(d),s(d);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),closeWidget:function(){var e=document.head.querySelector("#widget-nspk");e&&e.remove();var t=document.querySelector(".slide-up-widget");t&&(t.parentNode.removeChild(t),d(t))}};case 8:case"end":return e.stop()}}),e)})))()})()})();