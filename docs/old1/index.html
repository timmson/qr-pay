<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="no-cache"/>
    <!--<link rel="stylesheet" href="slide-up-widget.css"/>-->
    <link href="index.css" rel="stylesheet" type="text/css"/>
    <link href="../manifest.json" rel="manifest">
    <title>QR Pay</title>
</head>
<body>
<div id="app"></div>
<video id="camera"/>
<script charset="utf-8" src="index.js?v=1"></script>
<script type="module">
	import QrScanner from "./qr-scanner.min.js"

    let isDetected = false

	function setResult(result) {
        console.log(result.data)
    }

	const qrScanner = new QrScanner(
		document.getElementById("camera"),
		result => setResult(result),
		{ /* your options or returnDetailedScanResult: true if you're not specifying any other options */}
	);

	qrScanner.start();
</script>
<!--<script type="application/javascript">

	window.addEventListener("load", async () => {
		if ("serviceWorker" in navigator) {
			try {
				await navigator.serviceWorker.register("sw.js");
			} catch (e) {
				console.log("Service worker register fail");
			}
		}
	});
</script>-->
</body>
</html>
